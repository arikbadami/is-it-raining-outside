(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{20:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),s=n(14),a=n.n(s),o=(n(20),n(15)),r=n(3),l=n(5),d=n.n(l),u=n(0),j=function(e){return Object(u.jsx)("div",{className:"weather-display",children:function(){var t=[];switch(e.data.main){case"Sunny":case"Clear":t.push(Object(u.jsx)("div",{class:"icon sunny",children:Object(u.jsx)("div",{class:"sun",children:Object(u.jsx)("div",{class:"rays"})})}));break;case"Thunderstorm":t.push(Object(u.jsxs)("div",{class:"icon thunder-storm",children:[Object(u.jsx)("div",{class:"cloud"}),Object(u.jsxs)("div",{class:"lightning",children:[Object(u.jsx)("div",{class:"bolt"}),Object(u.jsx)("div",{class:"bolt"})]})]}));break;case"Rain":case"Drizzle":t.push(Object(u.jsxs)("div",{class:"icon rainy",children:[Object(u.jsx)("div",{class:"cloud"}),Object(u.jsx)("div",{class:"rain"})]}));break;case"Snow":t.push(Object(u.jsxs)("div",{class:"icon flurries",children:[Object(u.jsx)("div",{class:"cloud"}),Object(u.jsxs)("div",{class:"snow",children:[Object(u.jsx)("div",{class:"flake"}),Object(u.jsx)("div",{class:"flake"})]})]}));break;case"initial":t.push(Object(u.jsxs)("div",{class:"icon sun-shower",children:[Object(u.jsx)("div",{class:"cloud"}),Object(u.jsx)("div",{class:"sun",children:Object(u.jsx)("div",{class:"rays"})}),Object(u.jsx)("div",{class:"rain"})]}));break;default:t.push(Object(u.jsxs)("div",{class:"icon cloudy",children:[Object(u.jsx)("div",{class:"cloud"}),Object(u.jsx)("div",{class:"cloud"})]}))}return t}()})},h=(n(40),function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)("default"),a=Object(r.a)(s,2),l=a[0],h=a[1],b=Object(c.useState)(!1),v=Object(r.a)(b,2),f=v[0],p=v[1],O=Object(c.useState)(!1),x=Object(r.a)(O,2),g=x[0],m=x[1],w=Object(c.useState)(""),y=Object(r.a)(w,2),k=y[0],N=y[1],C="b7759e9875ae91e00ca69cd66bc660ac",S={Haze:"Hazy outside, perhaps it wouldn't be the worst idea to carry an umbrella",Sunny:"The sun is out, birds are chirping. What a lovely day to be alive",Rain:"Yes, it is raining ! Don't wake the old man up",Drizzle:"Light drizzle, could get heavy could stop, who knows ? This is a free app lower your expectations",Thunderstorm:"Fuckin hell, There's a storm coming Mr. Wayne ! Get inside & lock the doors",Snow:"Its snowing outside ! Time to make some snow angles",Clear:"Clear outside, nothing special to report about",Clouds:"The Clouds are out, but are they rain clouds ? It's a secret"};Object(c.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){i(e.coords)}),(function(e){i("Failed")})):i("NoSupport")}),[]);var T=function(e){m(e),p(!1),h("default"),N("")},W=function(){if("done"==l&&!g)return h("default"),void p(null);h("fetching");var e=new Promise((function(e){setTimeout((function(){e(123)}),[2e3])})),t=g?d.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(k,"&appid=").concat(C)):d.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n.latitude,"&lon=").concat(n.longitude,"&appid=").concat(C));Promise.all([e,t]).then((function(e){var t=e[1].data;p(Object(o.a)({},t.weather[0])),h("done")})).catch((function(){h("default")}))};return Object(u.jsxs)("div",{className:"weather-app",children:[Object(u.jsx)("div",{className:"location-based",children:n?"NoSupport"==n?Object(u.jsx)("div",{className:"description",children:"Device does not support location"}):"Failed"==n?Object(u.jsx)("div",{className:"description",children:"Could not fetch device location. Kindly review device settings or use the search by city option"}):Object(u.jsxs)("div",{children:["done"==l?Object(u.jsx)(j,{data:f}):Object(u.jsx)(j,{data:{main:"initial"}}),Object(u.jsx)("div",{className:"fetch-button",onClick:W,children:"default"==l?"Is It Raining Outside ?":"done"==l?"Reset":Object(u.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"})}),"done"!=l?Object(u.jsx)("div",{className:"description",children:"Hit the button above and find out whats the weather outside like"}):Object(u.jsx)("div",{className:"description",children:S[f.main]?S[f.main]:S.Clear})]}):Object(u.jsxs)("div",{className:"description",children:["Fetching Device Location",Object(u.jsx)("div",{className:"large-icon",children:Object(u.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"})})]})}),Object(u.jsx)("div",{className:"city-based ".concat(g?"open":""),children:g?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"cross-icon",onClick:function(){return T(!1)},children:"x"}),Object(u.jsx)("input",{onChange:function(e){N(e.target.value)},value:k,className:"input-field",placeholder:"City Name"}),Object(u.jsx)("div",{className:"fetch-button",onClick:W,children:"default"==l||"done"==l?"Search":Object(u.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"})}),"done"==l?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{data:f}),Object(u.jsx)("div",{className:"description",children:f.main})]}):null]}):Object(u.jsx)("div",{className:"fetch-button",onClick:function(){T(!0)},children:"Search By City"})}),g&&Object(u.jsx)("div",{className:"overlay",onClick:function(){return T(!1)}})]})}),b=function(){return Object(u.jsx)(h,{})},v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function f(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(b,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/is-it-raining-outside",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/is-it-raining-outside","/service-worker.js");v?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):f(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):f(t,e)}))}}()}},[[41,1,2]]]);
//# sourceMappingURL=main.a8184e3c.chunk.js.map